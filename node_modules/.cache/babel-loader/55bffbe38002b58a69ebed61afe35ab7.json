{"ast":null,"code":"/** PURE_IMPORTS_START _scheduler_async,_scan,_observable_defer,_map PURE_IMPORTS_END */\nimport { async } from '../scheduler/async';\nimport { scan } from './scan';\nimport { defer } from '../observable/defer';\nimport { map } from './map';\nexport function timeInterval(scheduler) {\n  if (scheduler === void 0) {\n    scheduler = async;\n  }\n\n  return function (source) {\n    return defer(function () {\n      return source.pipe(scan(function (_a, value) {\n        var current = _a.current;\n        return {\n          value: value,\n          current: scheduler.now(),\n          last: current\n        };\n      }, {\n        current: scheduler.now(),\n        value: undefined,\n        last: undefined\n      }), map(function (_a) {\n        var current = _a.current,\n            last = _a.last,\n            value = _a.value;\n        return new TimeInterval(value, current - last);\n      }));\n    });\n  };\n}\n\nvar TimeInterval = function () {\n  function TimeInterval(value, interval) {\n    this.value = value;\n    this.interval = interval;\n  }\n\n  return TimeInterval;\n}();\n\nexport { TimeInterval };","map":{"version":3,"sources":["../../../src/internal/operators/timeInterval.ts"],"names":[],"mappings":"AAEA;AAEA,SAAS,KAAT,QAAqB,oBAArB;AACA,SAAS,IAAT,QAAgB,QAAhB;AACA,SAAS,KAAT,QAAoB,qBAApB;AA+CA,SAAM,GAAN,QAAgB,OAAhB;AAAgC,OAAA,SAAA,YAAA,CAAA,SAAA,EAAA;AAC9B,MAAA,SAAO,KAAC,KAAqB,CAA7B,EAA6B;AAC3B,IAAA,SAAO,GAAA,KAAP;AAGO;;SAAqB,UAAC,MAAD,EAAQ;AAAR,WACtB,KAAO,CAAA,YAAY;AAEM,aAAA,MAAA,CAAA,IAAA,CAAA,IAAA,CAAO,UAAE,EAAF,EAAE,KAAF,EAAQ;AAAY,YAAA,OAAI,GAAA,EAAA,CAAA,OAAJ;AACxD,eAAA;AAAA,UAAA,KAAA,EAAA,KAAA;AAAA,UAAA,OAAA,EAAA,SAAA,CAAA,GAAA,EAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACD,OAF8B,EAE9B;AAAA,QAAA,OAAA,EAAA,SAAA,CAAA,GAAA,EAAA;AAAA,QAAA,KAAA,EAAA,SAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAF8B,CAAA,EAE9B,GAAA,CAAA,UAAA,EAAA,EAAA;AACJ,YAAA,OAAA,GAAA,EAAA,CAAA,OAAA;AAAA,YAAA,IAAA,GAAA,EAAA,CAAA,IAAA;AAAA,YAAA,KAAA,GAAA,EAAA,CAAA,KAAA;AAQD,eAAA,IAAA,YAAA,CAAA,KAAA,EAAA,OAAA,GAAA,IAAA,CAAA;AACE,OAVG,CAF8B,CAAA;AAYd,KAdJ,CADe;AAeM,G;AAAmB;;IACzD,YAAA,GAAC,YAAA;AAAA,WAAA,YAAA,CAAA,KAAA,EAAA,QAAA,EAAA;;;;;;CAAA,E","sourcesContent":["/** PURE_IMPORTS_START _scheduler_async,_scan,_observable_defer,_map PURE_IMPORTS_END */\r\nimport { async } from '../scheduler/async';\r\nimport { scan } from './scan';\r\nimport { defer } from '../observable/defer';\r\nimport { map } from './map';\r\nexport function timeInterval(scheduler) {\r\n    if (scheduler === void 0) {\r\n        scheduler = async;\r\n    }\r\n    return function (source) {\r\n        return defer(function () {\r\n            return source.pipe(scan(function (_a, value) {\r\n                var current = _a.current;\r\n                return ({ value: value, current: scheduler.now(), last: current });\r\n            }, { current: scheduler.now(), value: undefined, last: undefined }), map(function (_a) {\r\n                var current = _a.current, last = _a.last, value = _a.value;\r\n                return new TimeInterval(value, current - last);\r\n            }));\r\n        });\r\n    };\r\n}\r\nvar TimeInterval = /*@__PURE__*/ (function () {\r\n    function TimeInterval(value, interval) {\r\n        this.value = value;\r\n        this.interval = interval;\r\n    }\r\n    return TimeInterval;\r\n}());\r\nexport { TimeInterval };\r\n//# sourceMappingURL=timeInterval.js.map\r\n"]},"metadata":{},"sourceType":"module"}